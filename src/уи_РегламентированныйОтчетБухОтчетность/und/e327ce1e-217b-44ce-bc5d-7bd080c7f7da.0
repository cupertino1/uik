{3,
{42,0,0,0,0,1,0,0,00000000-0000-0000-0000-000000000000,0,
{1,1,
{"ru","Настройка расшифровки отдельных показателей бухгалтерской отчетности"}
},0,0,0,1,1,0,1,0,
{2,52dbb775-1631-4fd5-8c55-1615b5881dac,"ПередЗакрытием",9f2e5ddb-3492-4f5d-8f0d-416b8d1d5c5b,"ПриСозданииНаСервере",1,0,52dbb775-1631-4fd5-8c55-1615b5881dac,0,1,9f2e5ddb-3492-4f5d-8f0d-416b8d1d5c5b,0,1},
{0},1,
{21,
{9,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,1,
{0,
{0,
{"B",1},0}
},9,"ОсновнаяКоманднаяПанель",
{1,0},
{1,0},0,1,0,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{0,0,1},8,a9f3b1ac-f51b-431e-b102-55a69acdecad,
{28,
{10,02023637-7868-4a5f-8576-835a76e0c9ba},0,1,
{0,
{0,
{"B",1},0}
},0,"ОК",
{1,1,
{"ru","ОК"}
},1,
{1,409b9a53-7f7e-4178-86c1-33176c7c7a7a},
{0},3,1,0,0,2,2,0,0,0,
{3,4,
{0}
},
{3,4,
{0}
},
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},0,
{4,0,
{0},"",-1,-1,1,0,""},1,
{"Pattern"},"",2,0,1,
{10,
{8000,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,1,
{0,
{0,
{"B",1},0}
},0,"ОКРасширеннаяПодсказка",
{1,0},
{1,0},1,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{5,0,0,3,0,
{0,1,0},
{3,4,
{0}
},
{3,4,
{0}
},
{3,0,
{0},0,1,0,48312c09-257f-4b29-b280-284dd89efc1e}
},0,1,2,
{1,
{1,0},0},0,0,1,0,0,1,0,3,3},
{"U"},1,0,0,1,0,0,0,3,3,3,0,0,0,0},a9f3b1ac-f51b-431e-b102-55a69acdecad,
{28,
{11,02023637-7868-4a5f-8576-835a76e0c9ba},0,1,
{0,
{0,
{"B",1},0}
},0,"Отмена",
{1,1,
{"ru","Отмена"}
},1,
{2,409b9a53-7f7e-4178-86c1-33176c7c7a7a},
{0},3,0,0,0,2,2,0,0,0,
{3,4,
{0}
},
{3,4,
{0}
},
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},0,
{4,0,
{0},"",-1,-1,1,0,""},1,
{"Pattern"},"",2,0,1,
{10,
{8001,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,1,
{0,
{0,
{"B",1},0}
},0,"ОтменаРасширеннаяПодсказка",
{1,0},
{1,0},1,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{5,0,0,3,0,
{0,1,0},
{3,4,
{0}
},
{3,4,
{0}
},
{3,0,
{0},0,1,0,48312c09-257f-4b29-b280-284dd89efc1e}
},0,1,2,
{1,
{1,0},0},0,0,1,0,0,1,0,3,3},
{"U"},1,0,0,1,0,0,0,3,3,3,0,0,0,0},a9f3b1ac-f51b-431e-b102-55a69acdecad,
{28,
{12,02023637-7868-4a5f-8576-835a76e0c9ba},0,1,
{0,
{0,
{"B",1},0}
},0,"ФормаДобавить",
{1,0},1,
{3,409b9a53-7f7e-4178-86c1-33176c7c7a7a},
{0},3,0,0,0,2,2,0,0,0,
{3,4,
{0}
},
{3,4,
{0}
},
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},0,
{4,0,
{0},"",-1,-1,1,0,""},1,
{"Pattern"},"",2,0,1,
{10,
{13,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,1,
{0,
{0,
{"B",1},0}
},0,"ФормаДобавитьРасширеннаяПодсказка",
{1,0},
{1,0},1,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{5,0,0,3,0,
{0,1,0},
{3,4,
{0}
},
{3,4,
{0}
},
{3,0,
{0},0,1,0,48312c09-257f-4b29-b280-284dd89efc1e}
},0,1,2,
{1,
{1,0},0},0,0,1,0,0,1,0,3,3},
{"U"},1,0,0,1,0,0,0,3,3,3,0,0,0,0},a9f3b1ac-f51b-431e-b102-55a69acdecad,
{28,
{14,02023637-7868-4a5f-8576-835a76e0c9ba},0,1,
{0,
{0,
{"B",1},0}
},0,"ФормаУдалить",
{1,0},1,
{4,409b9a53-7f7e-4178-86c1-33176c7c7a7a},
{0},3,0,0,0,2,2,0,0,0,
{3,4,
{0}
},
{3,4,
{0}
},
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},0,
{4,0,
{0},"",-1,-1,1,0,""},1,
{"Pattern"},"",2,0,1,
{10,
{15,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,1,
{0,
{0,
{"B",1},0}
},0,"ФормаУдалитьРасширеннаяПодсказка",
{1,0},
{1,0},1,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{5,0,0,3,0,
{0,1,0},
{3,4,
{0}
},
{3,4,
{0}
},
{3,0,
{0},0,1,0,48312c09-257f-4b29-b280-284dd89efc1e}
},0,1,2,
{1,
{1,0},0},0,0,1,0,0,1,0,3,3},
{"U"},1,0,0,1,0,0,0,3,3,3,0,0,0,0},a9f3b1ac-f51b-431e-b102-55a69acdecad,
{28,
{16,02023637-7868-4a5f-8576-835a76e0c9ba},0,1,
{0,
{0,
{"B",1},0}
},0,"ФормаДействияФормыФлажкиУстановить",
{1,0},1,
{5,409b9a53-7f7e-4178-86c1-33176c7c7a7a},
{0},3,0,0,0,2,2,0,0,0,
{3,4,
{0}
},
{3,4,
{0}
},
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},0,
{4,0,
{0},"",-1,-1,1,0,""},1,
{"Pattern"},"",2,0,1,
{10,
{17,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,1,
{0,
{0,
{"B",1},0}
},0,"ФормаДействияФормыФлажкиУстановитьРасширеннаяПодсказка",
{1,0},
{1,0},1,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{5,0,0,3,0,
{0,1,0},
{3,4,
{0}
},
{3,4,
{0}
},
{3,0,
{0},0,1,0,48312c09-257f-4b29-b280-284dd89efc1e}
},0,1,2,
{1,
{1,0},0},0,0,1,0,0,1,0,3,3},
{"U"},1,0,0,1,0,0,0,3,3,3,0,0,0,0},a9f3b1ac-f51b-431e-b102-55a69acdecad,
{28,
{22,02023637-7868-4a5f-8576-835a76e0c9ba},0,1,
{0,
{0,
{"B",1},0}
},0,"ФормаДействияФормыОтметкиСнять",
{1,0},1,
{6,409b9a53-7f7e-4178-86c1-33176c7c7a7a},
{0},3,0,0,0,2,2,0,0,0,
{3,4,
{0}
},
{3,4,
{0}
},
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},0,
{4,0,
{0},"",-1,-1,1,0,""},1,
{"Pattern"},"",2,0,1,
{10,
{23,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,1,
{0,
{0,
{"B",1},0}
},0,"ФормаДействияФормыОтметкиСнятьРасширеннаяПодсказка",
{1,0},
{1,0},1,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{5,0,0,3,0,
{0,1,0},
{3,4,
{0}
},
{3,4,
{0}
},
{3,0,
{0},0,1,0,48312c09-257f-4b29-b280-284dd89efc1e}
},0,1,2,
{1,
{1,0},0},0,0,1,0,0,1,0,3,3},
{"U"},1,0,0,1,0,0,0,3,3,3,0,0,0,0},a9f3b1ac-f51b-431e-b102-55a69acdecad,
{28,
{18,02023637-7868-4a5f-8576-835a76e0c9ba},0,1,
{0,
{0,
{"B",1},0}
},0,"ФормаДействияФормыСбросить",
{1,0},1,
{7,409b9a53-7f7e-4178-86c1-33176c7c7a7a},
{0},3,0,0,0,2,2,0,0,0,
{3,4,
{0}
},
{3,4,
{0}
},
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},0,
{4,0,
{0},"",-1,-1,1,0,""},1,
{"Pattern"},"",2,0,1,
{10,
{19,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,1,
{0,
{0,
{"B",1},0}
},0,"ФормаДействияФормыСброситьРасширеннаяПодсказка",
{1,0},
{1,0},1,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{5,0,0,3,0,
{0,1,0},
{3,4,
{0}
},
{3,4,
{0}
},
{3,0,
{0},0,1,0,48312c09-257f-4b29-b280-284dd89efc1e}
},0,1,2,
{1,
{1,0},0},0,0,1,0,0,1,0,3,3},
{"U"},1,0,0,1,0,0,0,3,3,3,0,0,0,0},a9f3b1ac-f51b-431e-b102-55a69acdecad,
{28,
{20,02023637-7868-4a5f-8576-835a76e0c9ba},0,1,
{0,
{0,
{"B",1},0}
},0,"ФормаДействияФормыДействиеСправка",
{1,0},1,
{8,409b9a53-7f7e-4178-86c1-33176c7c7a7a},
{0},3,0,0,0,2,2,0,0,0,
{3,4,
{0}
},
{3,4,
{0}
},
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},0,
{4,0,
{0},"",-1,-1,1,0,""},1,
{"Pattern"},"",2,0,1,
{10,
{21,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,1,
{0,
{0,
{"B",1},0}
},0,"ФормаДействияФормыДействиеСправкаРасширеннаяПодсказка",
{1,0},
{1,0},1,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{5,0,0,3,0,
{0,1,0},
{3,4,
{0}
},
{3,4,
{0}
},
{3,0,
{0},0,1,0,48312c09-257f-4b29-b280-284dd89efc1e}
},0,1,2,
{1,
{1,0},0},0,0,1,0,0,1,0,3,3},
{"U"},1,0,0,1,0,0,0,3,3,3,0,0,0,0},1,0,0,0,3,3},1,143c00f7-a42d-4cd7-9189-88e4467dc768,
{50,
{1,02023637-7868-4a5f-8576-835a76e0c9ba},0,2,1,
{0,
{0,
{"B",1},0}
},"ТабличноеПолеДеревоНастроек",0,0,1,
{1,0},
{1,0},
{0},0,1,0,0,0,1,0,0,0,0,0,0,0,0,1,3,0,1,2,2,1,0,0,0,1,0,0,2,0,1,1,
{0},
{4,0,
{0},"",-1,-1,1,0,""},
{3,4,
{0}
},
{3,4,
{0}
},
{3,3,
{-22}
},
{7,3,0,1,100},
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},0,0,0,
{0,1,0},
{0},1,
{21,
{8002,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,1,
{0,
{0,
{"B",1},0}
},8,"ТабличноеПолеДеревоНастроекКонтекстноеМеню",
{1,0},
{1,0},0,1,0,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{1,1},0,1,0,0,0,3,3},1,
{21,
{8,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,1,
{0,
{0,
{"B",1},0}
},9,"ТабличноеПолеДеревоНастроекКоманднаяПанель",
{1,0},
{1,0},0,1,0,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{0,0,0},0,1,0,0,0,3,3},0,2,2,1,0,
{"Pattern"},"","",0,2,0,1,
{10,
{8003,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,1,
{0,
{0,
{"B",1},0}
},0,"ТабличноеПолеДеревоНастроекРасширеннаяПодсказка",
{1,0},
{1,0},1,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{5,0,0,3,0,
{0,1,0},
{3,4,
{0}
},
{3,4,
{0}
},
{3,0,
{0},0,1,0,48312c09-257f-4b29-b280-284dd89efc1e}
},0,1,2,
{1,
{1,0},0},0,0,1,0,0,1,0,3,3},1,1,1,1,
{4,
{8004,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,0,"ТабличноеПолеДеревоНастроекСтрокаПоиска",
{1,0},
{1,0},1,1,0,1,
{1,0,2,
{3,4,
{0}
},
{3,4,
{0}
},
{3,4,
{0}
},
{7,3,0,1,100},
{0,1,0},1,0,0},1,
{21,
{8005,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,8,"ТабличноеПолеДеревоНастроекСтрокаПоискаКонтекстноеМеню",
{1,0},
{1,0},0,1,0,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{1,1},0,1,0,0,0,3,3},1,
{10,
{8006,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,0,"ТабличноеПолеДеревоНастроекСтрокаПоискаРасширеннаяПодсказка",
{1,0},
{1,0},1,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{5,0,0,3,0,
{0,1,0},
{3,4,
{0}
},
{3,4,
{0}
},
{3,0,
{0},0,1,0,48312c09-257f-4b29-b280-284dd89efc1e}
},0,1,2,
{1,
{1,0},0},0,0,1,0,0,1,0,3,3},2,
{1,0},0,3,3},1,
{4,
{8007,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,1,"ТабличноеПолеДеревоНастроекСостояниеПросмотра",
{1,0},
{1,0},1,1,0,1,
{1,0,2,
{3,4,
{0}
},
{3,4,
{0}
},
{3,4,
{0}
},
{3,4,
{0}
},
{3,4,
{0}
},
{7,3,0,1,100},
{7,3,0,1,100},
{3,0,
{0},0,1,0,48312c09-257f-4b29-b280-284dd89efc1e},3,
{0,1,0},1,0,0},1,
{21,
{8008,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,8,"ТабличноеПолеДеревоНастроекСостояниеПросмотраКонтекстноеМеню",
{1,0},
{1,0},0,1,0,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{1,1},0,1,0,0,0,3,3},1,
{10,
{8009,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,0,"ТабличноеПолеДеревоНастроекСостояниеПросмотраРасширеннаяПодсказка",
{1,0},
{1,0},1,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{5,0,0,3,0,
{0,1,0},
{3,4,
{0}
},
{3,4,
{0}
},
{3,0,
{0},0,1,0,48312c09-257f-4b29-b280-284dd89efc1e}
},0,1,2,
{1,
{1,0},0},0,0,1,0,0,1,0,3,3},2,
{1,1},0,3,3},1,
{4,
{8010,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,2,"ТабличноеПолеДеревоНастроекУправлениеПоиском",
{1,0},
{1,0},1,1,0,1,
{1,0,
{3,4,
{0}
},
{3,4,
{0}
},
{3,4,
{0}
},
{7,3,0,1,100},
{0,1,0},1,0,0,2},1,
{21,
{8011,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,8,"ТабличноеПолеДеревоНастроекУправлениеПоискомКонтекстноеМеню",
{1,0},
{1,0},0,1,0,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{1,1},0,1,0,0,0,3,3},1,
{10,
{8012,02023637-7868-4a5f-8576-835a76e0c9ba},0,0,0,0,"ТабличноеПолеДеревоНастроекУправлениеПоискомРасширеннаяПодсказка",
{1,0},
{1,0},1,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{5,0,0,3,0,
{0,1,0},
{3,4,
{0}
},
{3,4,
{0}
},
{3,0,
{0},0,1,0,48312c09-257f-4b29-b280-284dd89efc1e}
},0,1,2,
{1,
{1,0},0},0,0,1,0,0,1,0,3,3},2,
{1,2},0,3,3},0,1,0,0,1,0,3,3,0},"","",1,
{21,
{0},0,0,0,7,"Navigator",
{1,0},
{1,0},0,1,0,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},0,0,1,0,1,
{10,
{0},0,0,0,0,"NavigatorExtendedTooltip",
{1,0},
{1,0},1,0,0,2,2,
{3,4,
{0}
},
{7,3,0,1,100},
{0,0,0},1,
{5,0,0,3,0,
{0,1,0},
{3,4,
{0}
},
{3,4,
{0}
},
{3,0,
{0},0,1,0,48312c09-257f-4b29-b280-284dd89efc1e}
},0,1,2,
{1,
{1,0},0},0,0,1,0,0,1,0,3,3},0,3,3},1,"",0,0,0,0,0,0,3,3,0,0,0},"//izhtc_translator ИЗМЕНЕННЫЕ СОБЫТИЯ ФОРМЫ (
//Событие ПередЗакрытием() заменилось на ПередЗакрытием(Отказ, СтандартнаяОбработка)
//Событие ПриОткрытии() заменилось на ПриОткрытии(Отказ)
//izhtc_translator ИЗМЕНЕННЫЕ СОБЫТИЯ ФОРМЫ )


&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	НастройкиВФорме =РеквизитФормыВЗначение(""ДеревоНастроек"", Тип(""ТаблицаЗначений"")).Скопировать();

	Элементы.ТабличноеПолеДеревоНастроек.Данные = ""НастройкиВФорме"";;
	
	// установки оформления колонок
	Элементы.ТабличноеПолеДеревоНастроек.Колонки[""Код""].Ширина = 7;
	Элементы.ТабличноеПолеДеревоНастроек.Колонки[""Код""].ИзменениеРазмера = ИзменениеРазмераКолонки.НеИзменять;
	
	Элементы.ТабличноеПолеДеревоНастроек.Колонки[""ВключатьВОтчет""].Ширина = 9;
	Элементы.ТабличноеПолеДеревоНастроек.Колонки[""ВключатьВОтчет""].ИзменениеРазмера = ИзменениеРазмераКолонки.НеИзменять;
	
	Элементы.ТабличноеПолеДеревоНастроек.Колонки[""Существенность""].Ширина = 8;
	Элементы.ТабличноеПолеДеревоНастроек.Колонки[""Существенность""].ИзменениеРазмера = ИзменениеРазмераКолонки.НеИзменять;
	
	Элементы.ТабличноеПолеДеревоНастроек.Колонки[""МаксимальноеКоличество""].Ширина = 6;
	Элементы.ТабличноеПолеДеревоНастроек.Колонки[""МаксимальноеКоличество""].ИзменениеРазмера = ИзменениеРазмераКолонки.НеИзменять;
	
	// установки видимости и доступности колонок
	Элементы.ТабличноеПолеДеревоНастроек.Колонки[""Наименование""].ТолькоПросмотр = Истина;
	Элементы.ТабличноеПолеДеревоНастроек.Колонки[""Код""].ТолькоПросмотр = Истина;
	Элементы.ТабличноеПолеДеревоНастроек.Колонки[""ИмяОбластиДопСтроки""].Видимость = Ложь;
	Элементы.ТабличноеПолеДеревоНастроек.Колонки[""ТипСостава""].Видимость = Ложь;
	Элементы.ТабличноеПолеДеревоНастроек.Колонки[""ЗначениеЭлемента""].Видимость = Ложь;

	Если НЕ ЕстьРасширяемыеСтроки(НастройкиВФорме) Тогда
		Элементы.ТабличноеПолеДеревоНастроек.Колонки[""Существенность""].Видимость = Ложь;
		Элементы.ТабличноеПолеДеревоНастроек.Колонки[""МаксимальноеКоличество""].Видимость = Ложь;
	КонецЕсли;
	
	Элементы.ТабличноеПолеДеревоНастроек.Колонки[""ВключатьВОтчет""].Данные = """";
	Элементы.ТабличноеПолеДеревоНастроек.Колонки[""ВключатьВОтчет""].ДанныеФлажка = ""ВключатьВОтчет"";
КонецПроцедуры


&НаКлиенте
Процедура ПриОткрытии(Отказ);
	Элементы.ТабличноеПолеДеревоНастроек.Колонки[""ВключатьВОтчет""].РежимРедактирования = РежимРедактированияКолонки.Непосредственно;
	Элементы.ТабличноеПолеДеревоНастроек.Колонки[""ВключатьВОтчет""].ГоризонтальноеПоложениеВКолонке = ГоризонтальноеПоложение.Центр;
	
КонецПроцедуры

&НаКлиенте

// izhtc_translator(
// Реализовать функционал через условное оформление формы
Процедура ТабличноеПолеДеревоНастроекПриВыводеСтроки(Элемент, ОформлениеСтроки, ДанныеСтроки)
	
	// Строки, допускающие определение состава выводятся жирным шрифтом
	Если НЕ ПустаяСтрока(ДанныеСтроки.ТипСостава) Тогда
		ОформлениеСтроки.Ячейки.Наименование.Шрифт = Новый Шрифт(ОформлениеСтроки.Ячейки.Наименование.Шрифт, , , Истина);
	КонецЕсли;
	
	// Для родительских строк отключается возможность ввода значений существенности и максимального количества
	Если ДанныеСтроки.Строки.Количество() > 0 Тогда
		ОформлениеСтроки.Ячейки.Существенность.ТолькоПросмотр = Истина;
		ОформлениеСтроки.Ячейки.Существенность.Видимость = Ложь;
		ОформлениеСтроки.Ячейки.МаксимальноеКоличество.ТолькоПросмотр = Истина;
		ОформлениеСтроки.Ячейки.МаксимальноеКоличество.Видимость = Ложь;
	КонецЕсли;
	
	// Если не указана область доп.строки, то не отображаем флажок включения в отчет
	// в противном случае не отображаем значения существенности и максимального количества для нерасширяемых строк
	Если ПустаяСтрока(ДанныеСтроки.ИмяОбластиДопСтроки) Тогда
		ОформлениеСтроки.Ячейки.ВключатьВОтчет.ТолькоПросмотр = Истина;
		ОформлениеСтроки.Ячейки.ВключатьВОтчет.Видимость = Ложь;
	ИначеЕсли ПустаяСтрока(ДанныеСтроки.ТипСостава) Тогда
		ОформлениеСтроки.Ячейки.Существенность.ТолькоПросмотр = Истина;
		ОформлениеСтроки.Ячейки.Существенность.Видимость = Ложь;
		ОформлениеСтроки.Ячейки.МаксимальноеКоличество.ТолькоПросмотр = Истина;
		ОформлениеСтроки.Ячейки.МаксимальноеКоличество.Видимость = Ложь;
	КонецЕсли;
	
	// Для строк со ссылками на значение не отображаем флажок включения, значения существенности и максимального количества
	Если ЗначениеЗаполнено(ДанныеСтроки.ЗначениеЭлемента) Тогда 
		ОформлениеСтроки.Ячейки.ВключатьВОтчет.ТолькоПросмотр = Истина;
		ОформлениеСтроки.Ячейки.ВключатьВОтчет.Видимость = Ложь;
		ОформлениеСтроки.Ячейки.Существенность.ТолькоПросмотр = Истина;
		ОформлениеСтроки.Ячейки.Существенность.Видимость = Ложь;
		ОформлениеСтроки.Ячейки.МаксимальноеКоличество.ТолькоПросмотр = Истина;
		ОформлениеСтроки.Ячейки.МаксимальноеКоличество.Видимость = Ложь;
	КонецЕсли;
	
КонецПроцедуры

&НаКлиенте
Процедура ОсновныеДействияФормыСохранить(Команда)
	//izhtc_translator предупреждение
	//В управляемые формы не переносятся кнопки ОК, Записать, Закрыть. Проверить необходимость переноса кода, связанного с текущим элементом!

	
	ЗакрытиеЧерезКнопки = Истина;
	
	Если Модифицированность Тогда
		ЭтаФорма.Закрыть(НастройкиВФорме);
	Иначе
		ЭтаФорма.Закрыть();
	КонецЕсли;
	
КонецПроцедуры

&НаКлиенте
Процедура ОсновныеДействияФормыОтмена(Команда)
	
	ЗакрытиеЧерезКнопки = Истина;
	
	Если Модифицированность Тогда
		ТекстВопроса = ""Состав дополнительных строк был изменен. Сохранить изменения?"";
		ОтветПользователя = Вопрос(ТекстВопроса, РежимДиалогаВопрос.ДаНетОтмена);
		Если ОтветПользователя = КодВозвратаДиалога.Да Тогда
			ЭтаФорма.Закрыть(НастройкиВФорме);
		ИначеЕсли ОтветПользователя = КодВозвратаДиалога.Нет Тогда
			ЭтаФорма.Закрыть();
		Иначе
			// закрывать форму не нужно
		КонецЕсли;
		
	Иначе
		ЭтаФорма.Закрыть();
		
	КонецЕсли;
	
КонецПроцедуры

&НаКлиенте
Процедура ПередЗакрытием(Отказ, СтандартнаяОбработка)
	
	СтандартнаяОбработка = Ложь;
	
	Если НЕ ЗакрытиеЧерезКнопки И Модифицированность Тогда
		ТекстВопроса = ""Состав дополнительных строк был изменен. Сохранить изменения?"";
		ОтветПользователя = Вопрос(ТекстВопроса, РежимДиалогаВопрос.ДаНетОтмена);
		Если ОтветПользователя = КодВозвратаДиалога.Да Тогда
			Отказ = Истина;
			ЭтаФорма.Закрыть(НастройкиВФорме);
		ИначеЕсли ОтветПользователя = КодВозвратаДиалога.Нет Тогда
			// закрываем форму в обычном порядке
		Иначе
			Отказ = Истина;
		КонецЕсли;
	КонецЕсли;
	
КонецПроцедуры

&НаСервере
Функция ТабличноеПолеДеревоНастроекПередНачаломДобавления_Сервер(УзелРодителя, РезультатВыбора)
		ПозицияРазделителя = Найти(УзелРодителя.ТипСостава, ""."");
		ИмяСправочника = Сред(УзелРодителя.ТипСостава, ПозицияРазделителя + 1);
		
		ФормаВыбора = Справочники[ИмяСправочника].ПолучитьФормуВыбора(, ЭтаФорма, );
		
		РезультатВыбора = ФормаВыбора.ОткрытьМодально();
КонецФункции


&НаКлиенте
Процедура ТабличноеПолеДеревоНастроекПередНачаломДобавления(Элемент, Отказ, Копирование, Родитель)
	Перем РезультатВыбора;

	Отказ = Истина;
	
	Если Копирование Тогда
		Возврат;
	КонецЕсли;
	
	Если ЗначениеЗаполнено(Родитель.ЗначениеЭлемента) Тогда
		// Можно добавить элемент к родителю верхнего уровня
		УзелРодителя = Родитель.Родитель;
	Иначе
		УзелРодителя = Родитель;
	КонецЕсли;
	
	Если ПустаяСтрока(УзелРодителя.ТипСостава) Тогда
		Возврат;
	КонецЕсли;
	
	Если Найти(УзелРодителя.ТипСостава, ""Справочник."") = 1 Тогда
		ТабличноеПолеДеревоНастроекПередНачаломДобавления_Сервер(УзелРодителя, РезультатВыбора);
		
		Если РезультатВыбора <> Неопределено Тогда
			// Выбор групп не предусмотрен в этой версии формы
			Если РезультатВыбора.ЭтоГруппа Тогда
				Сообщить(""Выбор групп из справочников не предусмотрен"", СтатусСообщения.Внимание);
				Возврат;
			КонецЕсли;
			
			// Проверяем, не дублируется ли значение в ветви дерева
			Если УзелРодителя.Строки.Найти(РезультатВыбора, ""ЗначениеЭлемента"") <> Неопределено Тогда
				Сообщить(""Элемент "" + РезультатВыбора.Наименование + "" уже включен в состав строки "" + УзелРодителя.Наименование + ?(ПустаяСтрока(УзелРодителя.Код), """", "" ("" + УзелРодителя.Код + "")""), СтатусСообщения.Внимание);
				Возврат;
			КонецЕсли;
			
			НоваяСтрока = УзелРодителя.Строки.Добавить();
			НоваяСтрока.Наименование = РезультатВыбора.Наименование;
			НоваяСтрока.ЗначениеЭлемента = РезультатВыбора;
			
			Элемент.ТекущиеДанные = НоваяСтрока;
		КонецЕсли;
		
	КонецЕсли;
	
КонецПроцедуры

&НаКлиенте
Процедура ТабличноеПолеДеревоНастроекПередУдалением(Элемент, Отказ)
	
	Если Не ЗначениеЗаполнено(Элемент.ТекущиеДанные.Родитель) ИЛИ ПустаяСтрока(Элемент.ТекущиеДанные.Родитель.ТипСостава) Тогда
		Отказ = Истина;
	КонецЕсли;
	
КонецПроцедуры

&НаКлиенте
Процедура ДействияФормыФлажкиУстановить(Команда)
	ПрисвоитьЗначениеФлажкам(НастройкиВФорме, Истина);
	Модифицированность = Истина;
КонецПроцедуры

&НаКлиенте
Процедура ДействияФормыОтметкиСнять(Команда)
	ПрисвоитьЗначениеФлажкам(НастройкиВФорме, Ложь);
	Модифицированность = Истина;
КонецПроцедуры

// <Описание процедуры>
//
// Параметры
//  <Параметр1>  - <Тип.Вид> - <описание параметра>
//                 <продолжение описания параметра>
//  <Параметр2>  - <Тип.Вид> - <описание параметра>
//                 <продолжение описания параметра>
//
// izhtc_translator(Функция доступна на клиенте и на сервере. Для оптимизации проверить используемость функции в других функциях и установить соответствующую директиву)
&НаСервере
Процедура ПрисвоитьЗначениеФлажкам(ВетвьДерева, ЗначениеФлажка)

	Для Каждого СтрокаДерева Из ВетвьДерева.Строки Цикл
		СтрокаДерева.ВключатьВОтчет = ЗначениеФлажка;
		Если СтрокаДерева.Строки.Количество() > 0 Тогда
			ПрисвоитьЗначениеФлажкам(СтрокаДерева, ЗначениеФлажка);
		КонецЕсли;
	КонецЦикла;

КонецПроцедуры // ПрисвоитьЗначениеФлажкам()

// <Описание функции>
//
// Параметры
//  <Параметр1>  - <Тип.Вид> - <описание параметра>
//                 <продолжение описания параметра>
//  <Параметр2>  - <Тип.Вид> - <описание параметра>
//                 <продолжение описания параметра>
//
// Возвращаемое значение:
//   <Тип.Вид>   - <описание возвращаемого значения>
//
// izhtc_translator(Функция доступна на клиенте и на сервере. Для оптимизации проверить используемость функции в других функциях и установить соответствующую директиву)
&НаСервере
Функция ЕстьРасширяемыеСтроки(ВетвьДерева)

	Для Каждого СтрокаДерева Из ВетвьДерева.Строки Цикл
		Если НЕ ПустаяСтрока(СтрокаДерева.ТипСостава) Тогда
			Возврат Истина;
		Иначе
			Если СтрокаДерева.Строки.Количество() > 0 Тогда
				Если ЕстьРасширяемыеСтроки(СтрокаДерева) Тогда
					Возврат Истина;
				КонецЕсли;
			КонецЕсли;
		КонецЕсли;
	КонецЦикла;
	
	Возврат Ложь;

КонецФункции // ЕстьРасширяемыеСтроки()

&НаКлиенте
Процедура ДействияФормыДействиеСправка(Команда)
	ОткрытьСправкуФормы();
КонецПроцедуры

&НаСервере
Функция ДействияФормыСбросить_Сервер()
	Если ДеревоНастроекПоУмолчанию <> Неопределено Тогда
		НастройкиВФорме =РеквизитФормыВЗначение(""ДеревоНастроекПоУмолчанию"", Тип(""ТаблицаЗначений"")).Скопировать();
	КонецЕсли;
	Модифицированность = Истина;
КонецФункции


&НаКлиенте
Процедура ДействияФормыСбросить(Команда)
	ДействияФормыСбросить_Сервер();
КонецПроцедуры


///////////////////////////////////////////////////////////////////////////////////////////////////
// Операторы инициализации формы

ЗакрытиеЧерезКнопки = Ложь;",
{4,4,
{9,
{1},0,"НастройкиВФорме",
{1,0},
{"Pattern",
{"#",e603c0f2-92fb-4d47-8f38-a44a381cf235}
},
{0,
{0,
{"B",1},0}
},
{0,
{0,
{"B",1},0}
},
{0,0},
{0,0},0,0,0,0,
{0,0},
{0,0}
},
{9,
{2},0,"ДеревоНастроек",
{1,0},
{"Pattern"},
{0,
{0,
{"B",1},0}
},
{0,
{0,
{"B",1},0}
},
{0,0},
{0,0},0,0,1,0,
{0,0},
{0,0}
},
{9,
{3},0,"ДеревоНастроекПоУмолчанию",
{1,0},
{"Pattern"},
{0,
{0,
{"B",1},0}
},
{0,
{0,
{"B",1},0}
},
{0,0},
{0,0},0,0,1,0,
{0,0},
{0,0}
},
{9,
{4},0,"ЗакрытиеЧерезКнопки",
{1,0},
{"Pattern"},
{0,
{0,
{"B",1},0}
},
{0,
{0,
{"B",1},0}
},
{0,0},
{0,0},0,0,1,0,
{0,0},
{0,0}
},0,0,
{#base64:77u/PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxTZXR0
aW5ncyB4bWxucz0iaHR0cDovL3Y4LjFjLnJ1LzguMS9kYXRhLWNvbXBvc2l0aW9u
LXN5c3RlbS9zZXR0aW5ncyIgeG1sbnM6ZGNzY29yPSJodHRwOi8vdjguMWMucnUv
OC4xL2RhdGEtY29tcG9zaXRpb24tc3lzdGVtL2NvcmUiIHhtbG5zOnN0eWxlPSJo
dHRwOi8vdjguMWMucnUvOC4xL2RhdGEvdWkvc3R5bGUiIHhtbG5zOnN5cz0iaHR0
cDovL3Y4LjFjLnJ1LzguMS9kYXRhL3VpL2ZvbnRzL3N5c3RlbSIgeG1sbnM6djg9
Imh0dHA6Ly92OC4xYy5ydS84LjEvZGF0YS9jb3JlIiB4bWxuczp2OHVpPSJodHRw
Oi8vdjguMWMucnUvOC4xL2RhdGEvdWkiIHhtbG5zOndlYj0iaHR0cDovL3Y4LjFj
LnJ1LzguMS9kYXRhL3VpL2NvbG9ycy93ZWIiIHhtbG5zOndpbj0iaHR0cDovL3Y4
LjFjLnJ1LzguMS9kYXRhL3VpL2NvbG9ycy93aW5kb3dzIiB4bWxuczp4cz0iaHR0
cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEiIHhtbG5zOnhzaT0iaHR0cDov
L3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEtaW5zdGFuY2UiLz4=}
},
{0,0},
{0,8,
{8,
{1,409b9a53-7f7e-4178-86c1-33176c7c7a7a},"ОсновныеДействияФормыСохранить",
{1,0},
{1,1,
{"ru","Сохранить и применить настройки"}
},
{0,
{0,
{"B",1},0}
},
{0,0,0},
{4,0,
{0},"",-1,-1,1,0,""},"ОсновныеДействияФормыСохранить",3,0,0,
{0,0},1,0,1,0,0},
{8,
{2,409b9a53-7f7e-4178-86c1-33176c7c7a7a},"ОсновныеДействияФормыОтмена",
{1,0},
{1,1,
{"ru","Отмена"}
},
{0,
{0,
{"B",1},0}
},
{0,0,0},
{4,0,
{0},"",-1,-1,1,0,""},"ОсновныеДействияФормыОтмена",3,0,0,
{0,0},1,0,1,0,0},
{8,
{3,409b9a53-7f7e-4178-86c1-33176c7c7a7a},"Добавить",
{1,0},
{1,1,
{"ru","Добавить"}
},
{0,
{0,
{"B",1},0}
},
{0,0,0},
{4,1,
{0,977e831a-0e73-4d60-af51-091a6fa8612e},"",-1,-1,1,0,""},"Добавить",3,0,0,
{0,0},1,0,1,0,0},
{8,
{4,409b9a53-7f7e-4178-86c1-33176c7c7a7a},"Удалить",
{1,0},
{1,1,
{"ru","Удалить текущий"}
},
{0,
{0,
{"B",1},0}
},
{0,0,0},
{4,1,
{0,08a45a70-c221-4339-b3b1-9f11cb22147d},"",-1,-1,1,0,""},"Удалить",3,0,0,
{0,0},1,0,1,0,0},
{8,
{5,409b9a53-7f7e-4178-86c1-33176c7c7a7a},"ДействияФормыФлажкиУстановить",
{1,0},
{1,1,
{"ru","Отметить все строки расшифровок"}
},
{0,
{0,
{"B",1},0}
},
{0,0,0},
{4,1,
{-10},"",-1,-1,1,0,""},"ДействияФормыФлажкиУстановить",3,0,0,
{0,0},1,0,1,0,0},
{8,
{6,409b9a53-7f7e-4178-86c1-33176c7c7a7a},"ДействияФормыОтметкиСнять",
{1,0},
{1,1,
{"ru","Снять отметки со всех строк расшифровок"}
},
{0,
{0,
{"B",1},0}
},
{0,0,0},
{4,1,
{-11},"",-1,-1,1,0,""},"ДействияФормыОтметкиСнять",3,0,0,
{0,0},1,0,1,0,0},
{8,
{7,409b9a53-7f7e-4178-86c1-33176c7c7a7a},"ДействияФормыСбросить",
{1,1,
{"ru","Сбросить"}
},
{1,1,
{"ru","Сбросить настройки"}
},
{0,
{0,
{"B",1},0}
},
{0,0,0},
{4,0,
{0},"",-1,-1,1,0,""},"ДействияФормыСбросить",3,0,0,
{0,0},1,0,1,0,0},
{8,
{8,409b9a53-7f7e-4178-86c1-33176c7c7a7a},"ДействияФормыДействиеСправка",
{1,0},
{1,1,
{"ru","Действие справка"}
},
{0,
{0,
{"B",1},0}
},
{0,0,0},
{4,1,
{0,b7c81c62-d6ad-4eae-9cea-0e203182db67},"",-1,-1,1,0,""},"ДействияФормыДействиеСправка",3,0,0,
{0,0},1,0,1,0,0}
},
{0,0},
{0,0},0,0}